<table class="parent-table">
    <tbody>
        <tr>
            <td>
                <table>
                    <tbody>
                        <tr>
                            <td colspan="5" class="text-center education-program-table-header">
                                Thông tin kết quả học tập
                            </td>
                        </tr>
                        <tr class="tr-lietkeResult">
                            <td class="td-lietkeResult">
                                <table>
                                    <tbody>
                                        <tr class="text-center">
                                            <td style="width: 30%;" class="text-end">Năm học</td>
                                            <td>
                                                <select class="select-lietke" name="" id="namhoc" [(ngModel)]="namhoc">
                                                    <option value="2020">2020-2021</option>
                                                    <option value="2021">2021-2022</option>
                                                    <option value="2022">2022-2023</option>
                                                    <option value="2023">2023-2024</option>
                                                    <option value="0">Tất cả</option>
                                                </select>
                                            </td>
                                            <td class="text-start">Học kỳ</td>
                                            <td class="text-start">
                                                <select class="select-lietke" name="" id="hocky" [(ngModel)]="hocky">
                                                    <option value="1">1</option>
                                                    <option value="2">2</option>
                                                    <option value="0">Tất cả</option>
                                                </select>
                                            </td>
                                            <td style="width: 30%;" class="text-start">
                                                <button class="btn-lietke" id="btnLietke" (click)="onclickLietke()">
                                                    Liệt kê
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <!-- Bảng thành phần -->
                <div *ngIf="isLietKe==true">
                    <ng-container *ngIf="dataSelected">
                        <table *ngFor="let data of dataSelected" class="tables-Result">
                            <tbody>
                                <tr>
                                    <td colspan="5" class="text-center education-program-table-header">
                                       {{data.ten_hoc_ky}}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <table class="table table-bordered">
                                            <thead>
                                                <tr>
                                                  <th scope="col">STT</th>
                                                  <th style="width: 11%;" scope="col">Mã môn học</th>
                                                  <th scope="col">Tên môn học</th>
                                                  <th scope="col">Số TC</th>
                                                  <th scope="col">Điểm chữ</th>
                                                  <th scope="col">Điểm số</th>
                                                  <th scope="col">Điểm thành phần</th>
                                                  <th scope="col">Tích lũy</th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                                <ng-container *ngIf="data">
                                                    <tr *ngFor="let value of data.ds_diem_mon_hoc; index as i">
                                                      <td>{{i+1}}</td>
                                                      <td>{{value['ma_mon']}}</td>
                                                      <td>{{value['ten_mon']}}</td>
                                                      <td>{{value['so_tin_chi']}}</td>
                                                      <td>{{value['diem_tk_chu']}}</td>
                                                      <td>{{value['diem_tk_so']}}</td>
                                                      <td>xem</td>
                                                      <td style="color: red; font-size: 20px; text-align: center;">{{value['diem_tk_so'] >= 1 ? '*' : ''}}</td>
                                                    </tr>
                                                </ng-container>
                                              </tbody>
                                        </table>
                                        <table class="table table-light">
                                            <tbody>
                                                <tr>
                                                    <td>Tổng số tính chỉ đăng ký</td>
                                                    <td></td>
                                                    <td>Điểm trung bình học kỳ</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td>Tổng số tín chỉ tích lũy học kỳ</td>
                                                    <td></td>
                                                    <td>Điểm trung bình tích lũy</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td>Tổng số tín chỉ tích lũy</td>
                                                    <td></td>
                                                    <td>Điểm rèn luyện</td>
                                                    <td></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </ng-container>
                </div>

                <div *ngIf="isLietKe == false">
                    <ng-container *ngIf="dataResult">
                        <table class="tables-Result">
                            <tbody>
                                <tr>
                                    <td colspan="5" class="text-center education-program-table-header">
                                        {{dataResult[0].ten_hoc_ky}}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <table class="table table-striped table-hover table-bordered">
                                            <thead>
                                                <tr>
                                                    <th scope="col">STT</th>
                                                    <th style="width: 11%;" scope="col">Mã môn học</th>
                                                    <th scope="col">Tên môn học</th>
                                                    <th scope="col">Số TC</th>
                                                    <th scope="col">Điểm chữ</th>
                                                    <th scope="col">Điểm số</th>
                                                    <th scope="col">Điểm thành phần</th>
                                                    <th scope="col">Tích lũy</th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                                <ng-container *ngIf="dataResult[0].ds_diem_mon_hoc">
                                                    <tr *ngFor="let value of dataResult[0].ds_diem_mon_hoc; index as i">
                                                        <td>{{i+1}}</td>
                                                        <td>{{value['ma_mon']}}</td>
                                                        <td>{{value['ten_mon']}}</td>
                                                        <td>{{value['so_tin_chi']}}</td>
                                                        <td>{{value['diem_tk_chu']}}</td>
                                                        <td>{{value['diem_tk_so']}}</td>
                                                        <td>xem</td>
                                                        <td style="color: red; font-size: 20px; text-align: center;">{{value['diem_tk_so'] >= 1 ? '*' : ''}}</td>
                                                    </tr>
                                                </ng-container>
                                              </tbody>
                                        </table>
                                        <table class="table table-light">
                                            <tbody>
                                                <tr>
                                                    <td>Tổng số tính chỉ đăng ký</td>
                                                    <td></td>
                                                    <td>Điểm trung bình học kỳ</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td>Tổng số tín chỉ tích lũy học kỳ</td>
                                                    <td></td>
                                                    <td>Điểm trung bình tích lũy</td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td>Tổng số tín chỉ tích lũy</td>
                                                    <td></td>
                                                    <td>Điểm rèn luyện</td>
                                                    <td></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </ng-container>
                </div>
                <div class="text-center">
                    <button routerLink="/home" class="btn-back">Trở lại</button>
                </div>
            </td>
        </tr>
    </tbody>
</table>