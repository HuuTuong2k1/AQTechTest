<ng-container *ngIf="data.length > 0; else NoData">
    <table *ngFor="let value of data" class="tables-Result">
        <tbody>
            <tr>
                <td colspan="5" class="text-center learning-result-table-header">
                   {{value.ten_hoc_ky}}
                </td>
            </tr>
            <tr>
                <td>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                              <th scope="col">STT</th>
                              <th style="width: 11%;" scope="col">Mã môn học</th>
                              <th scope="col">Tên môn học</th>
                              <th scope="col">Số TC</th>
                              <th scope="col">Điểm chữ</th>
                              <th scope="col">Điểm số</th>
                              <th scope="col">Điểm thành phần</th>
                              <th scope="col">Tích lũy</th>
                            </tr>
                          </thead>
                          <tbody>
                            <ng-container *ngIf="value.ds_diem_mon_hoc && value.ds_diem_mon_hoc.length > 0">
                                <tr *ngFor="let value of value.ds_diem_mon_hoc; index as i">
                                  <td class="text-center">{{i+1}}</td>
                                  <td>{{value['ma_mon']}}</td>
                                  <td>{{value['ten_mon']}}</td>
                                  <td class="text-center">{{value['so_tin_chi']}}</td>
                                  <td class="text-center">{{value['diem_tk_chu']}}</td>
                                  <td class="text-center">{{value['diem_tk_so']}}</td>
                                  <td mat-button class="text-center"><a class="xem-diem" (click)="openDialog(value)">{{value['diem_tk_so'] ? 'Xem' : ''}}</a></td>
                                  <td class="text-center" style="color: red; font-size: 20px;">{{value['diem_tk_so'] >= 1 ? '*' : ''}}</td>
                                </tr>
                            </ng-container>
                          </tbody>
                    </table>
                    <table class="table table-light table-tk">
                        <tbody>
                            <tr>
                                <td><b>Tổng số tính chỉ đăng ký</b></td>
                                <ng-container *ngFor="let item of total_TC_Dky_">
                                    <td *ngIf="item.hocky === value.hoc_ky">
                                        {{item['total']}}
                                    </td>
                                </ng-container>
                                <td><b>Điểm trung bình học kỳ</b></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td><b>Tổng số tín chỉ tích lũy học kỳ</b></td>
                                <td></td>
                                <td><b>Điểm trung bình tích lũy</b></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td><b>Tổng số tín chỉ tích lũy</b></td>
                                <td></td>
                                <td><b>Điểm rèn luyện</b></td>
                                <td>80</td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>
</ng-container>
<ng-template #NoData>
    <table>
        <tbody>
            <tr>
                <td class="p-3 text-center">
                    Không có dữ liệu để hiển thị
                </td>
            </tr>
        </tbody>
    </table>
</ng-template>
<div class="my-2 note">
    <table>
        <tbody>
            <tr>
                <td>
                    <span>Nếu có bất kỳ sai sót hoặc thắc gì về điểm số xin vui lòng liên hệ email: <b style="color: red;">nhtuong2001@gmail.com</b> để được giải đáp</span><br>
                    <span>Hệ thống sẽ xử lý điểm sau khi có đầy đủ điểm các môn học đã đăng ký trong học kỳ. Sinh viên có thắc mắc về điểm học phần vui lòng liên hệ giảng viên giảng dạy để được giải đáp</span><br>
                    <span>Hệ thống sẽ xử lý điểm trung bình học kỳ dự kiến hoàn thành vào ngày 15/08/2023 (Chậm nhất là vào ngày 20/08/2023)</span><br>
                    <span>Sinh viên có thắc gì về điểm vui lòng xử lý trong vòng 3 ngày sau khi có điểm trung bình. Sau khoảng thời gian trên hệ thống sẽ khóa lại và sẽ không mở lại để chỉnh sửa dưới bất kỳ lý do gì</span><br>
                    <span style="color: red;">Các học phần giáo dục thể chất sẽ không được tính vào điểm trung bình tích lũy</span>
                </td>
            </tr>
        </tbody>
    </table>
</div>